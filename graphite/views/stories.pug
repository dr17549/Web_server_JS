extends layout

block content
  h1 My Stories
  p Here you can view and edit the data files you use to generate the graphs. :)
  if created
    .alert.alert-success(role="alert")= (created == "created" ? "New story " : "Story ") + created + "!"
  a.btn.btn-primary(href="/new_story", role="button", style="margin-bottom: 0.5rem") New Story
  if data != ""
    form(action="/stories" method="POST")
      ul.list-group
        each val in data
          li.list-group-item
            .d-inline-flex.justify-content-start
              button.btn.btn-outline-danger.deletebutton(id="del" + val.story_ID, type="button", style="margin-right: 0.5rem") Delete
            .d-inline-flex.justify-content-center
              p= JSON.parse(val.story).title
            .d-inline-flex.justify-content-end
              button.btn.btn-outline-primary.editbutton(id="edit" + val.story_ID, type="submit", style="margin-left: 0.5rem") Edit
  else
    p You have no stories yet!
            

  #delconfirm.modal(tabindex='-1' role='dialog')
    .modal-dialog(role='document')
      .modal-content
        .modal-header
          h5.modal-title Delete Story
          button.close(type='button' data-dismiss='modal' aria-label='Close')
            span(aria-hidden='true') &times;
        .modal-body
          p Are you sure you want to delete this story?
        .modal-footer
          button#delyes.btn.btn-danger(type='button' data-dismiss='modal') Yes
          button.btn.btn-secondary(type='button' data-dismiss='modal') No

  script(src='/js/stories.js')